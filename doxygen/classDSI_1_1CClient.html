<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DSI: CClient Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceDSI.html">DSI</a>::<a class="el" href="classDSI_1_1CClient.html">CClient</a>
  </div>
</div>
<div class="contents">
<h1>CClient Class Reference</h1><!-- doxytag: class="DSI::CClient" --><!-- doxytag: inherits="DSI::CBase" -->
<p><code>#include &quot;<a class="el" href="CClient_8hpp_source.html">dsi/CClient.hpp</a>&quot;</code></p>

<p>Inherits <a class="el" href="classDSI_1_1CBase.html">DSI::CBase</a>.</p>

<p><a href="classDSI_1_1CClient-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#a4fa6fb64be723e80ed4bec717c956eea">CClient</a> (const char *ifname, const char *rolename, int majorVerion, int minorVersion)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#a5aeb0bb1faa2f4271e69cc42a2e4d64b">~CClient</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#ac1e31054548229bd5ea4779d9cbc2be2">clearAllNotifications</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#a180fa55a4bf36580963bed9e3e09c227">isConnected</a> () const </td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#a2f2212ef8e3e11bd7f6079be15ec5972">setNotification</a> (notificationid_t id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#ae2faf993e1c637b987f73ae59890fbb2">clearNotification</a> (notificationid_t id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#a634b8ddea4b89e42c537081256c055c9">doComponentConnected</a> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#ab47e53f477c18cef8c99eb9781f81fd7">doComponentDisconnected</a> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a61357fe1840103097cac664a2d51e808"></a><!-- doxytag: member="DSI::CClient::processResponse" ref="a61357fe1840103097cac664a2d51e808" args="(Private::CDataResponseHandle &amp;handle)=0" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#a61357fe1840103097cac664a2d51e808">processResponse</a> (Private::CDataResponseHandle &amp;handle)=0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback that is called for Responses from the server. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a737a3817ada1b434f92e918719ce6ced"></a><!-- doxytag: member="DSI::CClient::handleDataResponse" ref="a737a3817ada1b434f92e918719ce6ced" args="(Private::CDataResponseHandle &amp;handle)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#a737a3817ada1b434f92e918719ce6ced">handleDataResponse</a> (Private::CDataResponseHandle &amp;handle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles the data responses from the server side. <a class="el" href="namespaceDSI.html">DSI</a> protocol. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aefbc6fa960e5c859e063eed1465ac253"></a><!-- doxytag: member="DSI::CClient::sendDisconnectRequest" ref="aefbc6fa960e5c859e063eed1465ac253" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#aefbc6fa960e5c859e063eed1465ac253">sendDisconnectRequest</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends disconnect requests messages to the server. <a class="el" href="namespaceDSI.html">DSI</a> protocol. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acb41964b1a09fc92fd3f2a5a09e166ee"></a><!-- doxytag: member="DSI::CClient::setServerAvailableNotification" ref="acb41964b1a09fc92fd3f2a5a09e166ee" args="(int32_t coockie)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#acb41964b1a09fc92fd3f2a5a09e166ee">setServerAvailableNotification</a> (int32_t coockie)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets a server available notification at the servicebroker. Servicebroker protocol. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a13d460dcb282ea2d5e0e3ae3cb40827f"></a><!-- doxytag: member="DSI::CClient::removeNotification" ref="a13d460dcb282ea2d5e0e3ae3cb40827f" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#a13d460dcb282ea2d5e0e3ae3cb40827f">removeNotification</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes the server available or server disconnect notification at the servicebroker. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad513a1a8cb944a010a0af7c3bd53e5ba"></a><!-- doxytag: member="DSI::CClient::attachInterface" ref="ad513a1a8cb944a010a0af7c3bd53e5ba" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#ad513a1a8cb944a010a0af7c3bd53e5ba">attachInterface</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connects to the interface on the server and notifies servicebroker about that. <a class="el" href="namespaceDSI.html">DSI</a> + Servicebroker protocol. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ab174347408949d90be72b319c86add"></a><!-- doxytag: member="DSI::CClient::detachInterface" ref="a4ab174347408949d90be72b319c86add" args="(bool resetNotification)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#a4ab174347408949d90be72b319c86add">detachInterface</a> (bool resetNotification)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disconnects to the interface on the server and notifies servicebroker about that. <a class="el" href="namespaceDSI.html">DSI</a> + Servicebroker protocol. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4acc0cbb4cf81c3269ff7ff5dd7b4372"></a><!-- doxytag: member="DSI::CClient::handleConnectResponse" ref="a4acc0cbb4cf81c3269ff7ff5dd7b4372" args="(CConnectRequestHandle &amp;handle)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#a4acc0cbb4cf81c3269ff7ff5dd7b4372">handleConnectResponse</a> (CConnectRequestHandle &amp;handle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">handle response to connect request for local transport <br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">notificationid_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#adb07c09da3ddc8a4222c0153f1c847af">mNotificationID</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a217b7e16a351bbbbb00afd2fc96e1c56"></a><!-- doxytag: member="DSI::CClient::mChannel" ref="a217b7e16a351bbbbb00afd2fc96e1c56" args="" -->
std::tr1::weak_ptr&lt; <a class="el" href="classDSI_1_1CChannel.html">CChannel</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#a217b7e16a351bbbbb00afd2fc96e1c56">mChannel</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The channel to use for communication with the server. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::auto_ptr&lt; CClientConnectSM &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDSI_1_1CClient.html#a30d88970f41a91d323974fbb325369fc">mConnector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="accbe64dd60f812c94e17d9f424d8a636"></a><!-- doxytag: member="DSI::CClient::mProtoMinor" ref="accbe64dd60f812c94e17d9f424d8a636" args="" -->
uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>mProtoMinor</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa71f35a74f8f323579543b61116b14f"></a><!-- doxytag: member="DSI::CClient::d" ref="afa71f35a74f8f323579543b61116b14f" args="" -->
CPrivate *&nbsp;</td><td class="memItemRight" valign="bottom"><b>d</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The class <a class="el" href="classDSI_1_1CClient.html">CClient</a> is the base class for all <a class="el" href="namespaceDSI.html">DSI</a> Proxies. It handles the generic part of the <a class="el" href="namespaceDSI.html">DSI</a> communication. The actual proxy must implement <a class="el" href="classDSI_1_1CClient.html#a61357fe1840103097cac664a2d51e808" title="Callback that is called for Responses from the server.">processResponse()</a> for deserializing <a class="el" href="namespaceDSI.html">DSI</a> data. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4fa6fb64be723e80ed4bec717c956eea"></a><!-- doxytag: member="DSI::CClient::CClient" ref="a4fa6fb64be723e80ed4bec717c956eea" args="(const char *ifname, const char *rolename, int majorVerion, int minorVersion)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDSI_1_1CClient.html">CClient</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>ifname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>rolename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>majorVerion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>minorVersion</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a new <a class="el" href="classDSI_1_1CClient.html">CClient</a> object.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ifname</em>&nbsp;</td><td>The interface name of the service to connect to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rolename</em>&nbsp;</td><td>The rolename of the component. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>majorVersion</em>&nbsp;</td><td>The major version of the interface. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>minorVersion</em>&nbsp;</td><td>The minor version of the interface. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5aeb0bb1faa2f4271e69cc42a2e4d64b"></a><!-- doxytag: member="DSI::CClient::~CClient" ref="a5aeb0bb1faa2f4271e69cc42a2e4d64b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classDSI_1_1CClient.html">CClient</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The Destructor. Clean-up code. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac1e31054548229bd5ea4779d9cbc2be2"></a><!-- doxytag: member="DSI::CClient::clearAllNotifications" ref="ac1e31054548229bd5ea4779d9cbc2be2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearAllNotifications </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clears all notifications. </p>

</div>
</div>
<a class="anchor" id="ae2faf993e1c637b987f73ae59890fbb2"></a><!-- doxytag: member="DSI::CClient::clearNotification" ref="ae2faf993e1c637b987f73ae59890fbb2" args="(notificationid_t id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clearNotification </td>
          <td>(</td>
          <td class="paramtype">notificationid_t&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clears the notification with the given update id. </p>

</div>
</div>
<a class="anchor" id="a634b8ddea4b89e42c537081256c055c9"></a><!-- doxytag: member="DSI::CClient::doComponentConnected" ref="a634b8ddea4b89e42c537081256c055c9" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void doComponentConnected </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Callback that is called when the server connects. This function will be implemented by the generated proxy base class. </p>

</div>
</div>
<a class="anchor" id="ab47e53f477c18cef8c99eb9781f81fd7"></a><!-- doxytag: member="DSI::CClient::doComponentDisconnected" ref="ab47e53f477c18cef8c99eb9781f81fd7" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void doComponentDisconnected </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Callback that is called when the server disconnects. This function will be implemented by the generated proxy base class. </p>

</div>
</div>
<a class="anchor" id="a180fa55a4bf36580963bed9e3e09c227"></a><!-- doxytag: member="DSI::CClient::isConnected" ref="a180fa55a4bf36580963bed9e3e09c227" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isConnected </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Are we connected to the server? The client only has valid client id and server id set when it is actually connected since these IDs are generated by the servicebroker and are retrieved by the client via attach calls to the servicebroker. </p>

</div>
</div>
<a class="anchor" id="a2f2212ef8e3e11bd7f6079be15ec5972"></a><!-- doxytag: member="DSI::CClient::setNotification" ref="a2f2212ef8e3e11bd7f6079be15ec5972" args="(notificationid_t id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setNotification </td>
          <td>(</td>
          <td class="paramtype">notificationid_t&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets a notification on an attribute, a response or an information. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a30d88970f41a91d323974fbb325369fc"></a><!-- doxytag: member="DSI::CClient::mConnector" ref="a30d88970f41a91d323974fbb325369fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::auto_ptr&lt;CClientConnectSM&gt; <a class="el" href="classDSI_1_1CClient.html#a30d88970f41a91d323974fbb325369fc">mConnector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Connecting a server is a multi-step operation with individual asynchronous steps. This pointer holds the object as long as a connection operation is in progress. </p>

</div>
</div>
<a class="anchor" id="adb07c09da3ddc8a4222c0153f1c847af"></a><!-- doxytag: member="DSI::CClient::mNotificationID" ref="adb07c09da3ddc8a4222c0153f1c847af" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">notificationid_t <a class="el" href="classDSI_1_1CClient.html#adb07c09da3ddc8a4222c0153f1c847af">mNotificationID</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The id of the currently set notification at the servicebroker. This can be a server available or server disconnect notification depending on the state of the client, i.e. the client is attached to the server or not. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="CClient_8hpp_source.html">CClient.hpp</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Mar 21 12:43:34 2012 for DSI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
